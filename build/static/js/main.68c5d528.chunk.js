(window.webpackJsonpkensan=window.webpackJsonpkensan||[]).push([[0],{12:function(e,t,n){e.exports=n.p+"static/media/plus-icon.ab0afe9f.svg"},13:function(e,t,n){e.exports=n.p+"static/media/copy-icon.58bed3d9.svg"},14:function(e,t,n){e.exports=n.p+"static/media/trash-icon.2b32eb47.svg"},22:function(e,t,n){e.exports=n.p+"static/media/menu-icon.2f39056e.svg"},24:function(e,t,n){e.exports=n(34)},29:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(19),o=n.n(c),r=(n(29),n(4)),s=n(5),l=n(7),m=n(6),u=n(8),p=n(23),f=n(3),d=n(22),I=n.n(d),b=function(){return i.a.createElement("div",{className:"processMenu"},i.a.createElement("ul",{className:"processMenu__list"},i.a.createElement("li",{className:"processMenu__item"},i.a.createElement("button",{className:"processMenu__button"},"\u30bb\u30c3\u30c8\u4f5c\u6210")),i.a.createElement("li",{className:"processMenu__item"},i.a.createElement("button",{className:"processMenu__button"},"\u30bb\u30c3\u30c8\u914d\u7f6e"))))},E=function(){return i.a.createElement("ul",{className:"processMenuBar"},i.a.createElement("li",{className:"processMenuBar__item processMenuBar__item--active"}),i.a.createElement("li",{className:"processMenuBar__item"}))},y=function(){return i.a.createElement("header",{className:"kensanHeader"},i.a.createElement("div",{className:"kensanHeader__buttonArea"},i.a.createElement("div",{className:"menuButtonContainer"},i.a.createElement("button",{className:"menuButton"},i.a.createElement("img",{src:I.a,alt:"menu",className:"menuButton__image"}))),i.a.createElement(b,null)),i.a.createElement(E,null))},_=n(10),h={ItemType:{Item:"item",InnerItem:"InnerItem",Set:"set"},SET_HEADER_HEIGHT:40},v=n(12),g=n.n(v),k=n(13),O=n.n(k),j=n(14),C=n.n(j),N=function(e){var t=e.iconSrc,n=e.alt,a=e.onClick;return i.a.createElement("li",{className:"menuItem"},i.a.createElement("button",{type:"button",className:"menuItem__button",onClick:a},i.a.createElement("img",{src:t,alt:n,className:"worSpaceMenu__icon"})))},D=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={position:{top:15,left:15}},n.menus=[{iconSrc:g.a,alt:"\u8ffd\u52a0",onClick:function(){}},{iconSrc:O.a,alt:"\u8907\u88fd",onClick:function(){}},{iconSrc:C.a,alt:"\u524a\u9664",onClick:function(){}}],n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("ul",{className:"setWorkSpaceMenu",style:this.state.position},this.menus.map((function(e){return i.a.createElement(N,{alt:e.alt,iconSrc:e.iconSrc,onClick:e.onClick})})))}}]),t}(a.Component),S=function(e){var t=e.itemInfo,n=e.position,a=e.type,c=e.innerItemInfo,o=Object(f.c)({item:{type:a,info:t,innerItemInfo:c},collect:function(e){return{isDragging:!!e.isDragging()}}}),r=Object(_.a)(o,2),s=r[0].isDragging,l=r[1],m={opacity:s?.5:1,top:n.y,left:n.x},u=Object.assign(m,t.style);return i.a.createElement("section",{className:"item",style:u,ref:l},i.a.createElement("h2",{className:"item__name"},t.name))};S.defaultProps={innerItemInfo:{innerItemId:-1,setId:-1}};var x=S,F=function(e){var t=e.setInfo,n=e.onDrop,a=e.items,c=e.position,o=Object(f.d)({accept:h.ItemType.Item,drop:function(e,a){var i=a.getSourceClientOffset();n(t.set_id,e.info.item_id,i)},collect:function(e){return{isOver:!!e.isOver()}}}),r=Object(_.a)(o,2),s=r[0].isOver,l=r[1],m=Object(f.c)({item:{type:h.ItemType.Set,info:t},collect:function(e){return{isDragging:!!e.isDragging()}}}),u=Object(_.a)(m,2),p=u[0].isDragging,d=(u[1],{backgroundColor:s?"#FFEFFB":"white",top:c.y,left:c.x,opacity:p?.5:1}),I=Object.assign(d,t.style);return i.a.createElement("section",{className:"set",style:I,ref:l},i.a.createElement("h2",{className:"set__name",style:{backgroundColor:t.color}},t.name),i.a.createElement("ul",{className:"set__itemList"},t.containedItems.map((function(e,n){return i.a.createElement(x,{innerItemInfo:{innerItemId:n,setId:t.set_id},itemInfo:a.find((function(t){return t.item_id===e.itemId})),position:e.position,type:h.ItemType.InnerItem})}))))},w=function(e){var t=e.sets,n=e.onDrop,a=e.items,c=e.onTrash,o=Object(f.d)({accept:h.ItemType.InnerItem,drop:function(e){console.log(e),c(e.innerItemInfo.setId,e.innerItemInfo.innerItemId)},collect:function(e){return{isOver:!!e.isOver()}}}),r=Object(_.a)(o,2),s=r[0].isOver,l=r[1],m={backgroundColor:s?"#FFEFFB":"white"};return i.a.createElement("div",{className:"setWorkSpace",style:m,ref:l},i.a.createElement(D,null),t.map((function(e){return i.a.createElement(F,{setInfo:e,onDrop:n,items:a,position:e.position})})))},T=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={},n.menus=[{iconSrc:g.a,alt:"\u8ffd\u52a0",onClick:function(){}},{iconSrc:O.a,alt:"\u8907\u88fd",onClick:function(){}},{iconSrc:C.a,alt:"\u524a\u9664",onClick:function(){}}],n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("ul",{className:"itemWorkSpaceMenu",style:this.state.position},this.menus.map((function(e){return i.a.createElement(N,{alt:e.alt,iconSrc:e.iconSrc,onClick:e.onClick})})))}}]),t}(a.Component),M=function(e){function t(e){return Object(r.a)(this,t),Object(l.a)(this,Object(m.a)(t).call(this,e))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.items;return i.a.createElement("div",{className:"itemWorkSpace"},i.a.createElement(T,null),i.a.createElement("div",{className:"itemContainer"},e.map((function(e){return i.a.createElement(x,{itemInfo:e,position:e.position,type:h.ItemType.Item})}))))}}]),t}(a.Component),B=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={sets:[{set_id:1,name:"\u30bb\u30c3\u30c8A",color:"#F271D8",position:{x:50,y:80},style:{border:"3px solid #F271D8"},containedItems:[]},{set_id:10,name:"\u30bb\u30c3\u30c8B",color:"#4DC4F1",position:{x:350,y:80},style:{border:"3px solid #4DC4F1"},containedItems:[]}],items:[{item_id:1,name:"\u30a2\u30a4\u30c6\u30e0\uff11",color:"#F271D8",position:{x:20,y:20},style:{backgroundColor:"#F271D8"}},{item_id:10,name:"\u30a2\u30a4\u30c6\u30e0\uff12",color:"#4DC4F1",position:{x:200,y:20},style:{backgroundColor:"#4DC4F1"}}]},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleItemDrop",value:function(e,t,n){var a=this.state.sets.find((function(t){return t.set_id===e})),i={itemId:t,position:{x:n.x-a.position.x,y:n.y-a.position.y-h.SET_HEADER_HEIGHT}};a.containedItems.push(i)}},{key:"handleItemTrash",value:function(e,t){var n=this.state.sets.find((function(t){return t.set_id===e})),a=n.containedItems.filter((function(e,n){return n!==t}));n.containedItems=a}},{key:"render",value:function(){var e=this,t=this.state,n=t.sets,a=t.items;return i.a.createElement(f.b,{backend:p.a},i.a.createElement("div",{className:"kensanApp"},i.a.createElement(y,null),i.a.createElement(w,{sets:n,items:a,onDrop:function(t,n,a){e.handleItemDrop(t,n,a)},onTrash:function(t,n){e.handleItemTrash(t,n)}}),i.a.createElement(M,{items:a})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.68c5d528.chunk.js.map